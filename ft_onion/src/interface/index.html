<!DOCTYPE html>
<html>

<head>
	<title>ft_onion - Interactive Particles</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			overflow: hidden;
		}

		body {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			font-family: 'Arial', sans-serif;
		}

		canvas {
			display: block;
			cursor: crosshair;
		}

		.info {
			position: absolute;
			top: 20px;
			left: 50%;
			transform: translateX(-50%);
			color: white;
			text-align: center;
			z-index: 10;
			background: rgba(0, 0, 0, 0.5);
			padding: 20px 40px;
			border-radius: 15px;
			backdrop-filter: blur(10px);
		}

		h1 {
			font-size: 48px;
			margin-bottom: 10px;
			text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
		}

		p {
			font-size: 18px;
			margin: 5px 0;
		}

		.controls {
			position: absolute;
			bottom: 20px;
			left: 50%;
			transform: translateX(-50%);
			z-index: 10;
		}

		button {
			font-size: 16px;
			padding: 15px 30px;
			margin: 5px;
			background: rgba(255, 255, 255, 0.2);
			color: white;
			border: 2px solid white;
			border-radius: 25px;
			cursor: pointer;
			transition: all 0.3s;
			backdrop-filter: blur(10px);
		}

		button:hover {
			background: rgba(255, 255, 255, 0.4);
			transform: scale(1.05);
		}
	</style>
</head>

<body>
	<div class="info">
		<h1>ðŸ§… Welcome to the Onion Network</h1>
		<p>Move your mouse to interact with particles</p>
		<p>Click to create explosions!</p>
	</div>

	<canvas id="canvas"></canvas>

	<div class="controls">
		<button onclick="changeColor()">Change Colors</button>
		<button onclick="toggleGravity()">Toggle Gravity</button>
		<button onclick="reset()">Reset</button>
	</div>

	<script>
		const canvas = document.getElementById('canvas');
		const ctx = canvas.getContext('2d');

		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;

		let particles = [];
		let mouse = { x: null, y: null, radius: 100 };
		let colorScheme = 0;
		let gravity = false;

		const colorSchemes = [
			['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffeaa7'],
			['#667eea', '#764ba2', '#f093fb', '#4facfe', '#00f2fe'],
			['#fa709a', '#fee140', '#30cfd0', '#330867', '#a8edea'],
			['#ff9a56', '#ff6a88', '#fbc2eb', '#a18cd1', '#fad0c4']
		];

		class Particle {
			constructor(x, y, directionX, directionY, size, color) {
				this.x = x;
				this.y = y;
				this.directionX = directionX;
				this.directionY = directionY;
				this.size = size;
				this.color = color;
			}

			draw() {
				ctx.beginPath();
				ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
				ctx.fillStyle = this.color;
				ctx.fill();
			}

			update() {
				if (this.x > canvas.width || this.x < 0) {
					this.directionX = -this.directionX;
				}
				if (this.y > canvas.height || this.y < 0) {
					this.directionY = -this.directionY;
				}

				// Mouse interaction
				let dx = mouse.x - this.x;
				let dy = mouse.y - this.y;
				let distance = Math.sqrt(dx * dx + dy * dy);

				if (distance < mouse.radius + this.size) {
					if (mouse.x < this.x && this.x < canvas.width - this.size * 10) {
						this.x += 3;
					}
					if (mouse.x > this.x && this.x > this.size * 10) {
						this.x -= 3;
					}
					if (mouse.y < this.y && this.y < canvas.height - this.size * 10) {
						this.y += 3;
					}
					if (mouse.y > this.y && this.y > this.size * 10) {
						this.y -= 3;
					}
				}

				// Gravity
				if (gravity) {
					this.directionY += 0.05;
				}

				this.x += this.directionX;
				this.y += this.directionY;

				this.draw();
			}
		}

		function init() {
			particles = [];
			let numberOfParticles = (canvas.width * canvas.height) / 9000;

			for (let i = 0; i < numberOfParticles; i++) {
				let size = Math.random() * 5 + 1;
				let x = Math.random() * (canvas.width - size * 2) + size;
				let y = Math.random() * (canvas.height - size * 2) + size;
				let directionX = (Math.random() * 2) - 1;
				let directionY = (Math.random() * 2) - 1;
				let color = colorSchemes[colorScheme][Math.floor(Math.random() * colorSchemes[colorScheme].length)];

				particles.push(new Particle(x, y, directionX, directionY, size, color));
			}
		}

		function animate() {
			requestAnimationFrame(animate);
			ctx.clearRect(0, 0, canvas.width, canvas.height);

			for (let i = 0; i < particles.length; i++) {
				particles[i].update();
			}

			connect();
		}

		function connect() {
			for (let a = 0; a < particles.length; a++) {
				for (let b = a; b < particles.length; b++) {
					let dx = particles[a].x - particles[b].x;
					let dy = particles[a].y - particles[b].y;
					let distance = Math.sqrt(dx * dx + dy * dy);

					if (distance < 100) {
						let opacity = 1 - (distance / 100);
						ctx.strokeStyle = `rgba(255, 255, 255, ${opacity * 0.3})`;
						ctx.lineWidth = 1;
						ctx.beginPath();
						ctx.moveTo(particles[a].x, particles[a].y);
						ctx.lineTo(particles[b].x, particles[b].y);
						ctx.stroke();
					}
				}
			}
		}

		function changeColor() {
			colorScheme = (colorScheme + 1) % colorSchemes.length;
			init();
		}

		function toggleGravity() {
			gravity = !gravity;
		}

		function reset() {
			gravity = false;
			init();
		}

		function createExplosion(x, y) {
			for (let i = 0; i < 30; i++) {
				let size = Math.random() * 3 + 2;
				let directionX = (Math.random() - 0.5) * 10;
				let directionY = (Math.random() - 0.5) * 10;
				let color = colorSchemes[colorScheme][Math.floor(Math.random() * colorSchemes[colorScheme].length)];
				particles.push(new Particle(x, y, directionX, directionY, size, color));
			}
		}

		window.addEventListener('mousemove', function (event) {
			mouse.x = event.x;
			mouse.y = event.y;
		});

		window.addEventListener('mouseout', function () {
			mouse.x = null;
			mouse.y = null;
		});

		window.addEventListener('click', function (event) {
			createExplosion(event.x, event.y);
		});

		window.addEventListener('resize', function () {
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;
			init();
		});

		init();
		animate();
	</script>
</body>

</html>